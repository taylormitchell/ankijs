<script>
  function evalElement(selector) {
    const html = document.querySelector(selector).innerText.replace(/<br>/g, "\n").trim();
    const code = new DOMParser().parseFromString(html, "text/html").documentElement.textContent;
    try {
      return eval(code);
    } catch (error) {
      log(`Error evaluating code at "${selector}": ${error.message}`);
    }
  }
  const onFront = () => {
    const content = evalElement("#onFront");
    const el = document.getElementById("front");
    if (!el || !content) {
      return;
    } else if (content instanceof Node) {
      el.appendChild(content);
    } else if (typeof content === "string") {
      el.innerHTML = content;
    }
  };
  const onBack = () => {
    const content = evalElement("#onBack");
    const el = document.getElementById("back");
    if (!el || !content) {
      return;
    } else if (content instanceof Node) {
      el.appendChild(content);
    } else if (typeof content === "string") {
      el.innerHTML = content;
    }
  };
  function log(...args) {
    console.log(...args);
    const content = document.querySelector(".modal .content");
    const el = document.createElement("div");
    el.innerHTML = args.join(" ");
    content.appendChild(el);
    openModal();
  }
  function openModal() {
    const consoleDiv = document.querySelector(".modal-container");
    consoleDiv.style.display = "flex";
  }
  function closeModal() {
    const consoleDiv = document.querySelector(".modal-container");
    const content = document.querySelector(".modal .content");
    while (content.firstChild) {
      content.removeChild(content.firstChild);
    }
    consoleDiv.style.display = "none";
  }
</script>
<div id="onFront">{{Front}}</div>
<div id="onBack">{{Back}}</div>
<div class="modal-container">
  <div class="modal">
    <div class="content"></div>
    <button onclick="closeModal()">Close</button>
  </div>
</div>
<!-- Card stuff below here -->
<div id="front" class="card"></div>
<script>
  onFront();
</script>
